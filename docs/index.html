<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Check R • checkr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">checkr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="/index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/poissonconsulting/checkr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="checkr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#checkr" class="anchor"></a>checkr</h1></div>
<p><code>checkr</code> is a simple (dependency-free) R package to check the dimensions, classes, values, and names of vectors, lists and data frames. It is designed to be used in scripts or functions to provide informative warnings or errors that allow the user to quickly identify and fix any incorrect inputs.</p>
<p>It has three main functions which are imaginatively named <code>check_vector</code>, <code>check_list</code> and <code>check_data</code>.</p>
<div id="objects-warnings-and-errors" class="section level3">
<h3 class="hasAnchor">
<a href="#objects-warnings-and-errors" class="anchor"></a>Objects, Warnings and Errors</h3>
<p>All functions either throw an informative error or return an invisible copy of the object (which allows them to be used in pipes - see below).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(checkr)
y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="ot">NA</span>)
<span class="kw"><a href="reference/check_list.html">check_list</a></span>(y)
<span class="co">#&gt; Error: y must be a list</span>
<span class="kw">print</span>(<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y))
<span class="co">#&gt; [1]  2  1  0  1 NA</span></code></pre></div>
<p>Additional checks can be enforced by setting the various arguments.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="dt">values =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">max_length =</span> <span class="dv">2</span>, <span class="dt">unique =</span> <span class="ot">TRUE</span>, <span class="dt">sorted =</span> <span class="ot">TRUE</span>, <span class="dt">named =</span> <span class="ot">TRUE</span>, <span class="dt">error =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Warning: y must be class integer</span>
<span class="co">#&gt; Warning: y must not include missing values</span>
<span class="co">#&gt; Warning: y has unpermitted values 0</span>
<span class="co">#&gt; Warning: y must not be longer than 2</span>
<span class="co">#&gt; Warning: y must be unique</span>
<span class="co">#&gt; Warning: y must be sorted</span>
<span class="co">#&gt; Warning: y must be named</span></code></pre></div>
<p>If the object fails a check then depending on whether the argument <code>error</code> is <code>FALSE</code> or <code>TRUE</code> one or more informative warnings are issued (and an invisible copy of the object is returned) as in the previous example or an informative error is thrown (the default behaviour), respectively.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="dt">values =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">max_length =</span> <span class="dv">2</span>, <span class="dt">unique =</span> <span class="ot">TRUE</span>, <span class="dt">sorted =</span> <span class="ot">TRUE</span>, <span class="dt">named =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; Error: y must be class integer</span></code></pre></div>
</div>
<div id="values" class="section level3">
<h3 class="hasAnchor">
<a href="#values" class="anchor"></a>Values</h3>
<p>The values argument can be used to check the class and range etc of a vector, element of a list or column of a data frame.</p>
<div id="class" class="section level4">
<h4 class="hasAnchor">
<a href="#class" class="anchor"></a>Class</h4>
<p>To check the class simply pass an object of the desired class.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="dt">values =</span> <span class="kw">numeric</span>(<span class="dv">0</span>))
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="dt">values =</span> <span class="kw">integer</span>(<span class="dv">0</span>))
<span class="co">#&gt; Error: y must be class integer</span></code></pre></div>
</div>
<div id="missing-values" class="section level4">
<h4 class="hasAnchor">
<a href="#missing-values" class="anchor"></a>Missing Values</h4>
<p>To check that a vector does not include missing values pass a single non-missing value (of the correct class).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="dv">1</span>)
<span class="co">#&gt; Error: y must not include missing values</span></code></pre></div>
<p>To allow it to include missing values include a missing value.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="kw">c</span>(<span class="dv">1</span>, <span class="ot">NA</span>))</code></pre></div>
<p>And to check that it only includes missing values only pass a missing value (of the correct class)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="ot">NA</span>)
<span class="co">#&gt; Error: y must be class logical</span>
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="ot">NA_real_</span>)
<span class="co">#&gt; Error: y must only include missing values</span></code></pre></div>
</div>
<div id="range" class="section level4">
<h4 class="hasAnchor">
<a href="#range" class="anchor"></a>Range</h4>
<p>To check the range of a vector pass two non-missing values (as well as the missing value if required).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="ot">NA</span>))
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="ot">NA</span>))
<span class="co">#&gt; Error: the values in y must lie between 1 and 3</span>
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">10</span>, <span class="ot">NA</span>))
<span class="co">#&gt; Error: the values in y must lie between -10 and -1</span></code></pre></div>
</div>
<div id="specific-values" class="section level4">
<h4 class="hasAnchor">
<a href="#specific-values" class="anchor"></a>Specific Values</h4>
<p>To check the vector only includes specific values pass three or more non-missing values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="ot">NA</span>))
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="ot">NA</span>))
<span class="co">#&gt; Error: y can only include values 1 or 2</span>
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(y, <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="ot">NA</span>))</code></pre></div>
</div>
<div id="other-classes" class="section level4">
<h4 class="hasAnchor">
<a href="#other-classes" class="anchor"></a>Other Classes</h4>
<p>The values argument works for any atomic vector for which <code>&lt;</code> is defined.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="st">"t0"</span>, <span class="kw">c</span>(<span class="st">"t1"</span>, <span class="st">"t2"</span>))
<span class="co">#&gt; Error: the values in t0 must lie between 't1' and 't2'</span>
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="kw">Sys.Date</span>(), <span class="kw">as.Date</span>(<span class="kw">paste0</span>(<span class="kw">c</span>(<span class="st">"2016"</span>, <span class="st">"2015"</span>), <span class="st">"-01-01"</span>)))
<span class="co">#&gt; Error: the values in Sys.Date() must lie between '2015-01-01' and '2016-01-01'</span>
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="kw">Sys.time</span>()<span class="op">-</span><span class="dv">1</span>, <span class="kw">c</span>(<span class="kw">Sys.time</span>(), <span class="kw">Sys.time</span>()))
<span class="co">#&gt; Error: the values in Sys.time() - 1 must lie between '2017-11-23 17:31:51' and '2017-11-23 17:31:51'</span>
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>)), <span class="st">""</span>)
<span class="co">#&gt; Error: factor(c("blue", "green")) must be class character</span>
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>)), <span class="kw">factor</span>(<span class="st">""</span>))
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>)), <span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>)))
<span class="co">#&gt; Warning in Ops.factor(x_nona[1], values[1]): '&lt;' not meaningful for factors</span>
<span class="co">#&gt; Warning in Ops.factor(x_nona[length(x_nona)], values[2]): '&gt;' not</span>
<span class="co">#&gt; meaningful for factors</span>
<span class="co">#&gt; Error in if (x_nona[1] &lt; values[1] || x_nona[length(x_nona)] &gt; values[2]) {: missing value where TRUE/FALSE needed</span>
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="kw">ordered</span>(<span class="kw">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>)), <span class="kw">ordered</span>(<span class="kw">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>)))
<span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>)), <span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"red"</span>)))</code></pre></div>
</div>
</div>
<div id="naming-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#naming-objects" class="anchor"></a>Naming Objects</h3>
<p>By default, the name of an object is determined from the function call.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_vector.html">check_vector</a></span>(<span class="kw">list</span>(<span class="dt">x =</span> <span class="dv">1</span>))
<span class="co">#&gt; Error: list(x = 1) must be an atomic vector</span></code></pre></div>
<p>This simplifies things but results in less informative error messages when used in a pipe.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(magrittr)
y <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/check_list.html">check_list</a></span>()
<span class="co">#&gt; Error: . must be a list</span></code></pre></div>
<p>The argument <code>x_name</code> can be used to define the name</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/check_list.html">check_list</a></span>(<span class="dt">x_name =</span> <span class="st">"y"</span>)
<span class="co">#&gt; Error: y must be a list</span></code></pre></div>
</div>
<div id="data-frames" class="section level3">
<h3 class="hasAnchor">
<a href="#data-frames" class="anchor"></a>Data Frames</h3>
<p>Consider the following data frame</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tibble)

z &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/tibble/topics/tibble">data_frame</a></span>(
  <span class="dt">Count =</span> <span class="kw">c</span>(0L, 3L, 3L, 0L, <span class="ot">NA</span>), 
  <span class="dt">Longitude =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">90</span>, <span class="dv">90</span>, <span class="dv">180</span>), 
  <span class="dt">Latitude =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">90</span>, <span class="fl">90.2</span>, <span class="dv">100</span>, <span class="op">-</span><span class="dv">180</span>),
  <span class="dt">Type =</span> <span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">"Good"</span>, <span class="st">"Bad"</span>, <span class="st">"Bad"</span>, <span class="st">"Bad"</span>, <span class="st">"Bad"</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">"Good"</span>, <span class="st">"Bad"</span>)),
  <span class="dt">Extra =</span> <span class="ot">TRUE</span>,
  <span class="dt">Comments =</span> <span class="kw">c</span>(<span class="st">"In Greenwich"</span>, <span class="st">"Somewhere else"</span>, <span class="st">"I'm lost"</span>, <span class="st">"I didn't see any"</span>, <span class="st">"Help"</span>))

z
<span class="co">#&gt; # A tibble: 5 x 6</span>
<span class="co">#&gt;   Count Longitude Latitude   Type Extra         Comments</span>
<span class="co">#&gt;   &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;fctr&gt; &lt;lgl&gt;            &lt;chr&gt;</span>
<span class="co">#&gt; 1     0         0      0.0   Good  TRUE     In Greenwich</span>
<span class="co">#&gt; 2     3         0     90.0    Bad  TRUE   Somewhere else</span>
<span class="co">#&gt; 3     3        90     90.2    Bad  TRUE         I'm lost</span>
<span class="co">#&gt; 4     0        90    100.0    Bad  TRUE I didn't see any</span>
<span class="co">#&gt; 5    NA       180   -180.0    Bad  TRUE             Help</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/check_data.html">check_data</a></span>(z, <span class="dt">values =</span> <span class="kw">list</span>(
  <span class="dt">Count =</span> <span class="dv">1</span>,
  <span class="dt">Extra =</span> <span class="ot">NA</span>,
  <span class="dt">Latitude =</span> <span class="kw">c</span>(<span class="dv">45</span>, <span class="dv">90</span>)
  ), <span class="dt">exclusive =</span> <span class="ot">TRUE</span>, <span class="dt">order =</span> <span class="ot">TRUE</span>, <span class="dt">min_nrow =</span> 10L, <span class="dt">key =</span> <span class="st">"Longitude"</span>, <span class="dt">error =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Warning: x names must be identical to 'Count', 'Extra' and 'Latitude'</span>
<span class="co">#&gt; Warning: column Count of z must be class numeric</span>
<span class="co">#&gt; Warning: column Count of z must not include missing values</span>
<span class="co">#&gt; Warning: column Extra of z must only include missing values</span>
<span class="co">#&gt; Warning: the values in column Latitude of z must lie between 45 and 90</span>
<span class="co">#&gt; Warning: z must have at least 10 rows</span>
<span class="co">#&gt; Warning: column 'Longitude' in x must be a unique key</span></code></pre></div>
</div>
<div id="inspiration" class="section level2">
<h2 class="hasAnchor">
<a href="#inspiration" class="anchor"></a>Inspiration</h2>
<p><a href="https://github.com/poissonconsulting/datacheckr">datacheckr</a></p>
</div>
<div id="contribution" class="section level2">
<h2 class="hasAnchor">
<a href="#contribution" class="anchor"></a>Contribution</h2>
<p>Please report any <a href="https://github.com/poissonconsulting/checkr/issues">issues</a>.</p>
<p><a href="https://github.com/poissonconsulting/checkr/pulls">Pull requests</a> are always welcome.</p>
<p>Please note that this project is released with a <a href="CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/poissonconsulting/checkr">https://​github.com/​poissonconsulting/​checkr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/poissonconsulting/checkr/issues">https://​github.com/​poissonconsulting/​checkr/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Joe Thorley <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/joethorley/stability-badges#unstable"><img src="https://img.shields.io/badge/stability-unstable-yellow.svg" alt="stability-unstable"></a></li>
<li><a href="https://travis-ci.org/poissonconsulting/checkr"><img src="https://travis-ci.org/poissonconsulting/checkr.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/poissonconsulting/checkr"><img src="https://ci.appveyor.com/api/projects/status/github/poissonconsulting/checkr?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/github/poissonconsulting/checkr?branch=master"><img src="https://img.shields.io/codecov/c/github/poissonconsulting/checkr/master.svg" alt="Coverage Status"></a></li>
<li><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-green.svg" alt="License: MIT"></a></li>
<li><a href="https://cran.r-project.org/package=checkr"><img src="http://www.r-pkg.org/badges/version/checkr" alt="CRAN_Status_Badge"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Joe Thorley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
